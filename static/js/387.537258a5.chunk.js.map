{"version":3,"file":"static/js/387.537258a5.chunk.js","mappings":"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","sources":["Api/movieAPI.js","components/Reviews/Reviews.styled.jsx","components/Reviews/Reviews.jsx"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = 'ab824cc23ddc07019a534f1fe8694f2b';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\n\nexport const getTrending = async signal => {\n  const response = await axios.get('trending/movie/day', {\n    signal,\n    params: {\n      api_key: API_KEY,\n      language: 'en-US',\n    },\n  });\n\n  return response.data.results;\n};\n\nexport const getMoviesByQuery = async (query, signal) => {\n  const response = await axios.get('search/movie', {\n    signal,\n    params: {\n      api_key: API_KEY,\n      language: 'en-US',\n      query,\n      include_adult: false,\n      page: 1,\n    },\n  });\n\n  return response.data.results;\n};\n\nexport const getMovieDetails = async (movieId, signal) => {\n  const response = await axios.get(`movie/${movieId}`, {\n    signal,\n    params: {\n      api_key: API_KEY,\n      language: 'en-US',\n    },\n  });\n\n  return response.data;\n};\n\nexport const getCast = async (movieId, signal) => {\n  const response = await axios.get(`movie/${movieId}/credits`, {\n    signal,\n    params: {\n      api_key: API_KEY,\n      language: 'en-US',\n    },\n  });\n\n  return response.data.cast;\n};\n\nexport const getReviews = async (movieId, signal) => {\n  const response = await axios.get(`movie/${movieId}/reviews`, {\n    signal,\n    params: {\n      api_key: API_KEY,\n      language: 'en-US',\n      page: 1,\n    },\n  });\n\n  return response.data.results;\n};\n","import styled from '@emotion/styled';\n\nexport const ReviewsList = styled.ul`\n  display: flex;\n  flex-direction: column;\n  row-gap: 15px;\n`;\n\nexport const ReviewsItem = styled.li`\n  padding: 10px;\n  color: white;\n  background-color: black;\n  border-radius: 10px;\n`;\n\nexport const AuthorTitle = styled.h2`\n  margin-bottom: 5px;\n`;\n\nexport const ReviewText = styled.p`\n  line-height: 1.3;\n`;","import { ToastContainer, toast } from 'react-toastify';\nimport Loader from 'components/Loader/Loader';\nimport { useEffect, useRef, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { getReviews } from 'Api/movieAPI';\nimport 'react-toastify/dist/ReactToastify.css';\nimport {\n  AuthorTitle,\n  ReviewText,\n  ReviewsItem,\n  ReviewsList,\n} from './Reviews.styled';\n\nconst Reviews = () => {\n  const { movieId } = useParams();\n  const [reviews, setReviews] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const abortCtrl = useRef();\n\n  useEffect(() => {\n    const getReviewInfo = async () => {\n      if (abortCtrl.current) {\n        abortCtrl.current.abort();\n      }\n\n      abortCtrl.current = new AbortController();\n\n      try {\n        setIsLoading(true);\n        setError(null);\n\n        const reviewsInfo = await getReviews(movieId, abortCtrl.current.signal);\n\n        if (reviewsInfo.length === 0) {\n          return toast.info('Sorry, there are no reviews for this movie yet.', {\n            position: toast.POSITION.TOP_RIGHT,\n          });\n        }\n\n        setReviews(reviewsInfo);\n        setError(null);\n      } catch (error) {\n        if (error.code !== 'ERR_CANCELED') {\n          setError(error.message);\n        }\n      } finally {\n        setIsLoading(false);\n      }\n    };\n    getReviewInfo();\n  }, [movieId]);\n\n  return (\n    <>\n      <ToastContainer autoClose={2500} />\n\n      {isLoading && <Loader />}\n      {error && <p>{error}</p>}\n\n      {!isLoading && reviews.length > 0 && (\n        <div>\n          <ReviewsList>\n            {reviews.map(({ id, author, content }) => (\n              <ReviewsItem key={id}>\n                <AuthorTitle>Author: {author}</AuthorTitle>\n                <ReviewText>{content}</ReviewText>\n              </ReviewsItem>\n            ))}\n          </ReviewsList>\n        </div>\n      )}\n\n      {!isLoading && reviews.length === 0 && (\n        <div>Sorry, there are no reviews for this movie yet.</div>\n      )}\n    </>\n  );\n};\n\nexport default Reviews;"],"names":["API_KEY","axios","getTrending","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","signal","response","_context","prev","next","params","api_key","language","sent","abrupt","data","results","stop","_x","apply","arguments","getMoviesByQuery","_ref2","_callee2","query","_context2","include_adult","page","_x2","_x3","getMovieDetails","_ref3","_callee3","movieId","_context3","concat","_x4","_x5","getCast","_ref4","_callee4","_context4","cast","_x6","_x7","getReviews","_ref5","_callee5","_context5","_x8","_x9","ReviewsList","styled","_templateObject","_taggedTemplateLiteral","ReviewsItem","_templateObject2","AuthorTitle","_templateObject3","ReviewText","_templateObject4","useParams","_useState","useState","_useState2","_slicedToArray","reviews","setReviews","_useState3","_useState4","isLoading","setIsLoading","_useState5","_useState6","error","setError","abortCtrl","useRef","useEffect","getReviewInfo","reviewsInfo","current","abort","AbortController","length","toast","position","t0","code","message","finish","_jsxs","_Fragment","children","_jsx","ToastContainer","autoClose","Loader","map","id","author","content"],"sourceRoot":""}